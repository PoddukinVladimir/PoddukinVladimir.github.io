{"version":3,"sources":["../../../../app/components/app-item/app-item.controller.js"],"names":["ItemCtrl","itemsFactory","$rootScope","$scope","items","getItems","$watch","updatedData","oldData","deleteItem","item","id","$broadcast","number","findIndexOfItemByID","currentItem"],"mappings":";;;;;;IAAMA,Q;AACF,sBAAYC,YAAZ,EAA0BC,UAA1B,EAAsCC,MAAtC,EAA8C;AAAA;;AAAA;;AAC1C,aAAKD,UAAL,GAAkBA,UAAlB;AACA,aAAKE,KAAL,GAAaH,aAAaI,QAAb,EAAb;AACA,aAAKJ,YAAL,GAAoBA,YAApB;;AAEAE,eAAOG,MAAP,CAAc;AAAA,mBAAM,MAAKL,YAAL,CAAkBI,QAAlB,EAAN;AAAA,SAAd,EAAkD,UAACE,WAAD,EAAcC,OAAd,EAA0B;AACxE,kBAAKJ,KAAL,GAAaG,WAAb;AACH,SAFD,EAEG,IAFH;AAGH;;;;qCAEY;AACT,iBAAKN,YAAL,CAAkBQ,UAAlB,CAA6B,KAAKC,IAAL,CAAUC,EAAvC;AACA,iBAAKT,UAAL,CAAgBU,UAAhB,CAA2B,eAA3B,EAA4C,KAAKF,IAAL,CAAUC,EAAtD;AACH;;;0CAEiBD,I,EAAM;AACpB,gBAAIG,SAAS,KAAKZ,YAAL,CAAkBa,mBAAlB,CAAsCJ,KAAKC,EAA3C,CAAb;AACA,iBAAKT,UAAL,CAAgBU,UAAhB,CAA2B,gBAA3B,EAA6C,EAACF,MAAMA,IAAP,EAAaG,QAAQA,MAArB,EAA7C;AACH;;;mCAEUH,I,EAAM;AACb,gBAAI,CAACA,IAAD,IAAS,CAAC,KAAKK,WAAnB,EAAgC,OAAO,KAAP;AAChC,mBAAOL,KAAKC,EAAL,KAAY,KAAKI,WAAL,CAAiBJ,EAApC;AACH","file":"app-item.controller.js","sourcesContent":["class ItemCtrl {\r\n    constructor(itemsFactory, $rootScope, $scope) {\r\n        this.$rootScope = $rootScope;\r\n        this.items = itemsFactory.getItems();\r\n        this.itemsFactory = itemsFactory;\r\n\r\n        $scope.$watch(() => this.itemsFactory.getItems(), (updatedData, oldData) => {\r\n            this.items = updatedData;\r\n        }, true);\r\n    }\r\n\r\n    deleteItem() {\r\n        this.itemsFactory.deleteItem(this.item.id);\r\n        this.$rootScope.$broadcast('itemIsDeleted', this.item.id);\r\n    }\r\n\r\n    selectCurrentItem(item) {\r\n        let number = this.itemsFactory.findIndexOfItemByID(item.id);\r\n        this.$rootScope.$broadcast('itemIsSelected', {item: item, number: number});\r\n    }\r\n\r\n    isSelected(item) {\r\n        if (!item || !this.currentItem) return false;\r\n        return item.id === this.currentItem.id;\r\n    }\r\n}"]}